<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="org.uniworks.groupware.mapper.BoardMapper"> 
	<resultMap id="BaseResultMap" type="org.uniworks.groupware.domain.board.BoardDoc"> 
		<result column="CO_ID" jdbcType="VARCHAR" property="coId" /> 
		<result column="CNTN_ID" jdbcType="VARCHAR" property="cntnId" /> 
		<result column="DCMT_RGSR_NO" jdbcType="VARCHAR" property="dcmtRgsrNo" /> 
		<result column="PRNT_DCMT_RGSR_NO" jdbcType="VARCHAR" property="prntDcmtRgsrNo" /> 
		<result column="DCMT_RGSR_DATETIME" jdbcType="TIMESTAMP" property="dcmtRgsrDatetime" /> 
		<result column="AUTH_EMP_NO" jdbcType="VARCHAR" property="authEmpNo" /> 
		<result column="AUTH_EMP_NAME" jdbcType="VARCHAR" property="authEmpName" />
		<result column="AUTH_DUTY_DESC" jdbcType="VARCHAR" property="authDutyDesc" /> 
		<result column="AUTH_DEPT_CODE" jdbcType="VARCHAR" property="authDeptCode" /> 
		<result column="AUTH_DEPT_DESC" jdbcType="VARCHAR" property="authDeptDesc" /> 
		<result column="AUTH_TEL_NO" jdbcType="VARCHAR" property="authTelNo" /> 
		<result column="PRSV_TERM_TYPE" jdbcType="VARCHAR" property="prsvTermType" /> 
		<result column="PRSV_TERM" jdbcType="TIMESTAMP" property="prsvTerm" /> 
		<result column="TITLE" jdbcType="VARCHAR" property="title" /> 
		<result column="CONTENT" jdbcType="VARCHAR" property="content" />
		<result column="SALE_PRICE" jdbcType="INTEGER" property="salePrice" />
		<result column="RGSR_CNFM_USER" jdbcType="VARCHAR" property="rgsrCnfmUser" /> 
		<result column="RGSR_CNFM_USER_NAME" jdbcType="VARCHAR" property="rgsrCnfmUserName" />
		<result column="RGSR_CNFM_DUTY_DESC" jdbcType="VARCHAR" property="rgsrCnfmDutyDesc" /> 
		<result column="RGSR_CNFM_DEPT_CODE" jdbcType="VARCHAR" property="rgsrCnfmDeptCode" /> 
		<result column="RGSR_CNFM_DEPT_DESC" jdbcType="VARCHAR" property="rgsrCnfmDeptDesc" /> 
		<result column="RGSR_CNFM_DATETIME" jdbcType="TIMESTAMP" property="rgsrCnfmDatetime" />
		<result column="VIEW_CNT" jdbcType="INTEGER" property="viewCnt" /> 
		<result column="ATCH_INDC" jdbcType="VARCHAR" property="atchIndc" /> 
		<result column="BOARD_ID" jdbcType="VARCHAR" property="boardId" /> 
		<result column="TYPE_CODE1" jdbcType="VARCHAR" property="typeCode1" /> 
		<result column="TYPE_CODE2" jdbcType="VARCHAR" property="typeCode2" /> 
		<result column="TYPE_CODE3" jdbcType="VARCHAR" property="typeCode3" /> 
		<result column="TYPE_CODE4" jdbcType="VARCHAR" property="typeCode4" /> 
		<result column="CHNG_ID" jdbcType="VARCHAR" property="chngId" /> 
		<result column="MDFY_DATE_TIME" jdbcType="TIMESTAMP" property="mdfyDateTime" /> 
	</resultMap> 
	
	<!-- 목록 조회 --> 
	<select id="selectBoardList" parameterType="java.util.Map" resultMap="BaseResultMap"> 
	select A.CO_ID, A.CNTN_ID, A.DCMT_RGSR_NO, A.PRNT_DCMT_RGSR_NO, A.DCMT_RGSR_DATETIME, A.AUTH_EMP_NO, 
		   FN_GetUserName(A.CO_ID, A.AUTH_EMP_NO, 'ko') as AUTH_EMP_NAME, A.AUTH_DUTY_DESC, A.AUTH_DEPT_CODE, A.AUTH_DEPT_DESC, 
		   A.AUTH_TEL_NO, A.PRSV_TERM_TYPE, A.PRSV_TERM, A.TITLE, A.CONTENT, A.SALE_PRICE, A.RGSR_CNFM_USER, 
		   FN_GetUserName(A.CO_ID, A.RGSR_CNFM_USER, #{lang,jdbcType=VARCHAR}) as RGSR_CNFM_USER_NAME,
	       A.RGSR_CNFM_DUTY_DESC, A.RGSR_CNFM_DEPT_CODE, A.RGSR_CNFM_DEPT_DESC, A.RGSR_CNFM_DATETIME, A.VIEW_CNT, 
		   A.ATCH_INDC, A.BOARD_ID, A.TYPE_CODE1, A.TYPE_CODE2, A.TYPE_CODE3, A.TYPE_CODE4, A.CHNG_ID, A.MDFY_DATE_TIME
	  from gw.nw130m A
	 where A.CNTN_ID	=	#{cntnId,jdbcType=VARCHAR}
	   and A.CO_ID	=	#{coId,jdbcType=VARCHAR};	
	</select>
</mapper>